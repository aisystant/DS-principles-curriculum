# ZP.4 Оптимизация — Ячейки по глубинам

> **Принцип:** ZP.4 Оптимизация
> **Источник принципа:** [ZP/principles/ZP.4-optimization.md](../../ZP/principles/ZP.4-optimization.md)
> **Шаблон ячейки:** PACK-education EDU.MAP.001

---

## ZP.4 @ Глубина 1 (Remember)

```yaml
cell:
  principle: ZP.4
  principle_name: Оптимизация
  depth: 1
  bloom_level: Remember

  can_do:
    - "Могу назвать: «оптимизировать = найти лучшее из возможных, а не первое подходящее»"
    - "Могу указать, что именно улучшаем в конкретной ситуации (критерий: быстрее, дешевле, точнее)"
    - "Могу отличить «перебрать всё» от «искать лучшее по правилу»"
    - "Могу привести пример из жизни: «выбрал маршрут покороче» = оптимизация по расстоянию"

  methods:
    primary: [EDU.M.001]  # Scaffolding — ввод через наблюдение
    meta: [EDU.M.006, EDU.M.007]  # Retrieval + Spaced (всегда)
    notes: "На этой глубине — через бытовые примеры выбора. Дети с 3 лет демонстрируют оптимизацию информационного выигрыша (epistemic value) при исследовании: выбирают не случайные, а наиболее информативные действия (Nature Human Behaviour 2023). Использовать врождённую склонность к «лучшему выбору» как точку входа. Не вводить формальный язык — достаточно интуиции «найти лучшее»."

  prerequisites:
    same_principle: null  # Первая глубина, пререквизитов нет
    cross_principle: []
    cognitive: "Дооперациональный (3+) или любой начинающий"

  assessment:
    type: observation
    criteria: "Называет ли критерий «что улучшаем» без подсказки. Отличает ли «перебор всего» от «поиск лучшего по правилу». Приводит ли бытовой пример оптимизации."
    transfer_test: "Показать новую ситуацию (упаковка рюкзака, выбор подарка) → «Что здесь можно улучшить? По какому признаку?»"
    retrieval_test: "Через неделю: «Что значит оптимизировать? Приведи пример из своей жизни за последнюю неделю»"

  common_errors:
    - "Путает «лучшее» с «любимое»: субъективное предпочтение ≠ оптимизация по объективному критерию"
    - "Не может назвать критерий: говорит «лучше», но не может сказать «лучше ПО ЧЕМУ именно» — отсутствует привычка явно формулировать, что оптимизируем"

  domains: [быт (маршруты, покупки), игры (выигрышная стратегия), природа (как животные ищут еду)]

  forms:
    preoperational: "«Самый-самый»: 5 карточек с маршрутами от дома до парка → найти самый короткий. «По чему выбирал?» 5-10 мин"
    concrete_operational: "«Охотник за лучшим»: задача — купить набор продуктов, есть 3 магазина с разными ценами → найти самый дешёвый набор. «Что оптимизировал?» 15 мин"
    formal_operational: "Обсуждение: «Когда ты в последний раз выбирал лучший вариант? Что значило "лучший"?» Составить список из 5 ситуаций оптимизации за неделю. 20 мин"
    postformal: "Рефлексия: «Какие решения я принимаю "на автомате" без осознанного критерия? Что теряю?» 30 мин"

  bridge_template: null  # Первая глубина — нет предыдущего витка
```

---

## ZP.4 @ Глубина 2 (Understand)

```yaml
cell:
  principle: ZP.4
  principle_name: Оптимизация
  depth: 2
  bloom_level: Understand

  can_do:
    - "Могу объяснить своими словами: «оптимизация = чётко назвать ЧТО улучшаем и найти наилучшее значение, а не перебирать вслепую»"
    - "Могу различить целевую функцию (что оптимизируем), ограничения (что нельзя нарушить) и переменные (что можем менять)"
    - "Могу объяснить другому, почему случайный перебор плох: «природа не перебирает — свет идёт по кратчайшему пути (принцип Ферма)»"
    - "Могу привести пример из нового домена, где есть целевая функция и ограничения"

  methods:
    primary: [EDU.M.001, EDU.M.002]  # Scaffolding + PBL (начальный)
    meta: [EDU.M.006, EDU.M.007]
    notes: "Ключевой переход: от интуитивного «найти лучшее» к пониманию структуры задачи оптимизации (целевая функция + ограничения + переменные). Использовать аналогию с природой: принцип наименьшего действия, принцип Ферма, минимизация свободной энергии — природа «оптимизирует», а не перебирает. Визуализировать: ландшафт с горами и долинами, ищем самую глубокую точку."

  prerequisites:
    same_principle: "ZP.4@1"
    cross_principle: []
    cognitive: "Конкретно-операциональный (7+) или взрослый без подготовки"

  assessment:
    type: artifact + observation
    criteria: "В предложенной ситуации правильно называет: (1) что оптимизируем (целевая функция), (2) что нельзя нарушить (ограничения), (3) что можем менять (переменные). Объясняет, почему перебор — не оптимизация."
    transfer_test: "Дать 3 ситуации из нового домена (логистика, кулинария, спорт) → для каждой назвать: целевую функцию, ограничения, переменные"
    retrieval_test: "Через неделю: «Чем отличается оптимизация от перебора? Какие три элемента у задачи оптимизации?»"

  common_errors:
    - "Путает целевую функцию с ограничением: «хочу быстро» (цель) vs «бюджет не больше 1000» (ограничение) — не различает, что максимизируем/минимизируем и что фиксировано"
    - "Забывает про ограничения: формулирует цель, но не учитывает границы допустимого — «оптимизация без ограничений» = wishful thinking"
    - "Считает, что оптимум всегда один: не понимает, что при разных ограничениях оптимум разный (контекстуальность оптимума)"

  domains: [природа (принцип Ферма, путь света), экономика (бюджет, закупки), спорт (тренировочный план)]

  forms:
    preoperational: "Не рекомендуется на этой глубине (нужно абстрагирование: цель vs ограничение)"
    concrete_operational: "«Три шляпы оптимизатора»: для каждой задачи надеть три шляпы — (1) «Что улучшаем?», (2) «Что нельзя нарушить?», (3) «Что можем крутить?». 5 карточек с ситуациями. 20 мин"
    formal_operational: "«Инженер решений»: задача — спланировать вечеринку с бюджетом → явно записать цель, ограничения, переменные → сравнить: кто получил лучший результат и почему. 30 мин"
    postformal: "«Анатомия решений»: взять 3 своих недавних решения → для каждого записать: что оптимизировал? какие ограничения учёл? какие НЕ учёл? 40 мин"

  bridge_template: "Помнишь, как мы находили «лучший вариант» и называли критерий? Теперь учимся раскладывать задачу на три части: ЧТО оптимизируем, ЧТО нельзя нарушить и ЧТО можем менять."
```

---

## ZP.4 @ Глубина 3 (Apply)

```yaml
cell:
  principle: ZP.4
  principle_name: Оптимизация
  depth: 3
  bloom_level: Apply

  can_do:
    - "Могу взять реальную задачу (не учебную) и сформулировать её как задачу оптимизации: записать целевую функцию, ограничения, переменные"
    - "Могу обнаружить скрытый критерий оптимизации: «ты говоришь "хочу лучше", но на самом деле оптимизируешь X»"
    - "Могу применить метод градиентного спуска интуитивно: «двигайся в направлении улучшения, измеряй результат, корректируй»"
    - "Могу показать, что задача «перебери все варианты» на самом деле задача оптимизации: назвать, что оптимизируем, и сократить пространство поиска"

  methods:
    primary: [EDU.M.002, EDU.M.004, EDU.M.005]  # PBL + Experiential + Backwards Design
    meta: [EDU.M.006, EDU.M.007]
    notes: "Ключевой переход: от понимания структуры к самостоятельной формулировке задачи оптимизации для реальных ситуаций. Дети при обучении оптимизируют не награду, а информационный выигрыш (высокая exploration temperature) — на этой глубине важно научить осознавать: ЧТО ИМЕННО ты сейчас оптимизируешь? Часто реальный критерий скрыт. PBL даёт реальные задачи; Backwards Design помогает от цели к формулировке."

  prerequisites:
    same_principle: "ZP.4@2"
    cross_principle: ["ZP.2@2"]  # Понимание структуры необходимо, чтобы формулировать ЧТО оптимизируем: целевая функция = структурный инвариант задачи
    cognitive: "Формально-операциональный (11+) или взрослый с базой"

  assessment:
    type: artifact
    criteria: "Берёт реальную ситуацию → записывает целевую функцию + ограничения + переменные. Обнаруживает скрытый критерий оптимизации. Предлагает итеративный подход к решению (а не одномоментный перебор)."
    transfer_test: "Задача из незнакомого домена (городское планирование, диетология, расписание) → сформулировать как оптимизацию за 5 минут"
    retrieval_test: "Через неделю: «Вот ситуация [X]. Сформулируй задачу оптимизации: что максимизируем, что ограничивает, что крутим?»"

  common_errors:
    - "Single-objective trap (N1): формулирует только одну цель, игнорируя все остальные — «оптимизирую скорость» и забывает про качество, стоимость, усталость"
    - "Brute-force без модели (N4): знает, что нужно оптимизировать, но вместо формулировки критерия начинает перебирать — «попробую все варианты и выберу лучший»"
    - "Не видит скрытого критерия: оптимизирует заявленное (оценки), а реальный критерий другой (понимание материала)"

  domains: [личная продуктивность (планирование дня), инженерия (проектирование), экология (распределение ресурсов)]

  forms:
    preoperational: "Не применимо"
    concrete_operational: "Не рекомендуется (нужен формальный уровень для абстрактной формулировки)"
    formal_operational: "«Формулировщик»: 3 жизненных задачи (спланировать неделю подготовки к экзаменам; выбрать ноутбук; составить меню на неделю) → для каждой письменно: целевая функция, ограничения, переменные. Затем — обмен с партнёром: найти скрытые критерии в чужой формулировке. 45 мин"
    postformal: "«Аудит скрытых целей»: взять 3 текущих проекта/решения → записать заявленную цель → через анализ поведения определить РЕАЛЬНЫЙ критерий оптимизации → сравнить. 60 мин"

  bridge_template: "Помнишь, как мы раскладывали задачу на целевую функцию, ограничения и переменные? Теперь ты сам берёшь реальную ситуацию и ФОРМУЛИРУЕШЬ её как задачу оптимизации — включая скрытые критерии."
```

---

## ZP.4 @ Глубина 4 (Analyze)

```yaml
cell:
  principle: ZP.4
  principle_name: Оптимизация
  depth: 4
  bloom_level: Analyze

  can_do:
    - "Могу обнаружить multi-objective конфликт: «здесь оптимизируют X, но это ухудшает Y» (Парето-граница)"
    - "Могу определить: задача ill-conditioned (малые изменения входов → огромные изменения результата) или well-conditioned"
    - "Могу диагностировать ловушку локального оптимума: «решение выглядит лучшим, но только в окрестности — глобально есть лучше»"
    - "Могу проанализировать чужую оптимизацию: найти пропущенные ограничения, скрытые критерии, ошибку single-objective (N1)"
    - "Могу объяснить, почему Парето-оптимум на тесте ≠ Парето-оптимум в реальности (N3: overfitting к метрикам)"

  methods:
    primary: [EDU.M.003, EDU.M.002]  # Case Method + PBL (продвинутый)
    meta: [EDU.M.006, EDU.M.007]
    notes: "Ключевое на этой глубине — не ФОРМУЛИРОВАТЬ оптимизацию, а ЛОМАТЬ чужие формулировки. Multi-objective оптимизация (C-MORL, ICLR 2025): реальные задачи ВСЕГДА имеют несколько конфликтующих целей. Grokking (ICLR 2024): фазовый переход в оптимизации — система может долго не улучшаться, затем резко «прорваться». Ill-conditioned optimization (PINNs 2025): формально правильная формулировка, но численно нерешаемая. Case Method даёт реальные кейсы провалов оптимизации для анализа."

  prerequisites:
    same_principle: "ZP.4@3"
    cross_principle: ["ZP.3@3", "ZP.5@3"]  # Многомасштабность для multi-objective (цели на разных масштабах конфликтуют); вероятность для uncertainty в оптимизации (stochastic optimization, ill-conditioning)
    cognitive: "Формально-операциональный (развитый) или постформальный"

  assessment:
    type: artifact + portfolio
    criteria: "Анализ кейса: находит ≥2 конфликтующие цели (Парето-конфликт). Определяет: задача well/ill-conditioned. Находит ловушку локального оптимума. Диагностирует N1 (single-objective trap) в чужой формулировке."
    transfer_test: "Дать кейс из незнакомого домена (здравоохранение: лечить быстрее vs безопаснее vs дешевле; урбанистика: плотность vs зелень vs транспорт) → найти Парето-конфликт, предложить trade-off"
    retrieval_test: "Через неделю: «Вот решение [X], которое объявлено оптимальным. По какому критерию? Какие другие критерии пострадали?»"

  common_errors:
    - "Пытается найти единственный оптимум в multi-objective задаче: не понимает, что Парето-граница — множество равноценных компромиссов, а не одна точка"
    - "Путает локальный и глобальный оптимум: «улучшать некуда» не означает «лучше не бывает» — может быть другая долина глубже"
    - "Overfitting к метрике (N3): оптимизирует показатель, а не реальное качество — закон Гудхарта («когда мера становится целью, она перестаёт быть хорошей мерой»)"
    - "Игнорирует ill-conditioning (N2): формально правильная задача, но решение скачет от малейших изменений входных данных — не проверяет устойчивость"

  domains: [бизнес-стратегия (прибыль vs рост vs устойчивость), медицина (эффективность vs побочные эффекты), ML (точность vs интерпретируемость vs fairness)]

  forms:
    preoperational: "Не применимо"
    concrete_operational: "Не применимо"
    formal_operational: "«Детектив оптимизации»: 3 кейса провалов — (1) Boeing 737 MAX (оптимизация стоимости в ущерб безопасности = N1), (2) школьные рейтинги (teaching to the test = N3), (3) диета только по калориям (один критерий, игнор микронутриентов = N1). Для каждого: найти конфликт целей, пропущенные ограничения, предложить Парето-подход. 60 мин"
    postformal: "«Парето-аудит»: взять своё текущее ключевое решение → выписать ВСЕ критерии (≥4) → построить матрицу конфликтов → определить: какие trade-off уже сделаны неявно? Какие стоит пересмотреть? 90 мин"

  bridge_template: "Помнишь, как мы формулировали задачу оптимизации: цель, ограничения, переменные? Теперь наоборот: будем ЛОМАТЬ чужие формулировки — искать скрытые конфликты целей, ловушки локального оптимума и хрупкие решения."
```

---

## ZP.4 @ Глубина 5 (Create)

```yaml
cell:
  principle: ZP.4
  principle_name: Оптимизация
  depth: 5
  bloom_level: Create

  can_do:
    - "Могу спроектировать систему с встроенной multi-objective оптимизацией: явные цели, Парето-граница, механизм выбора trade-off"
    - "Могу формализовать неявный процесс принятия решений в организации как задачу оптимизации: выявить реальные целевые функции, скрытые ограничения, неконтролируемые переменные"
    - "Могу спроектировать адаптивную оптимизацию: система сама меняет стратегию при изменении условий (exploration → exploitation, Free Energy Principle)"
    - "Могу обучить другого человека ZP.4 на любой глубине (peer teaching)"
    - "Могу интегрировать оптимизацию с вычислительными ограничениями (ZP.6): знать, когда точный оптимум не нужен и достаточно satisficing"

  methods:
    primary: [EDU.M.004, EDU.M.008]  # Experiential Learning + Spiral Curriculum
    meta: [EDU.M.006, EDU.M.007]
    notes: "Ключевое — переход от анализа к СОЗДАНИЮ оптимизационных систем. Free Energy Principle (Friston 2023-2025): планирование = минимизация вариационной свободной энергии — объединяет восприятие, действие и обучение как одну оптимизацию. Optimal Transport (2024-2025): перемещение распределений с минимальной стоимостью — фундаментальная метафора для проектирования. E/E-LOG из FPF: баланс exploration/exploitation сам по себе задача оптимизации. NQD-CAL: оптимизация не одного результата, а разнообразия + качества. Ученик строит собственные оптимизационные фреймворки для своего домена."

  prerequisites:
    same_principle: "ZP.4@4"
    cross_principle: ["ZP.6@3", "FPF.NQD@1"]  # Вычислительные ограничения (ZP.6) для понимания satisficing и computational budget; NQD-CAL (FPF) для мульти-критериальной оптимизации (novelty + quality + diversity)
    cognitive: "Постформальный"

  assessment:
    type: portfolio + peer_teaching
    criteria: "Создан артефакт: оптимизационный фреймворк для своего домена (≥3 целей, Парето-граница, механизм trade-off, адаптивность к изменениям). Проведено обучение другого (peer teaching ZP.4). Формализована хотя бы одна реальная организационная задача как оптимизация."
    transfer_test: "Взять незнакомый домен (экосистема, государственная политика, архитектура ПО) → спроектировать multi-objective оптимизационную рамку за 1 день → peer review"
    retrieval_test: "Через месяц: «Какой оптимизационный фреймворк ты построил для своей области? Что изменилось после применения?»"

  common_errors:
    - "Чрезмерная формализация: строит математическую модель оптимизации там, где достаточно эвристики с тремя критериями — нарушение ZP.6 (вычислительные ограничения не позволяют точное решение)"
    - "Фиксирует целевую функцию навсегда: не предусматривает пересмотр целей при изменении условий — статическая оптимизация в динамическом мире"
    - "Создаёт Парето-границу, но не механизм выбора на ней: «вот 50 равноценных вариантов» без guidance, как выбрать — analysis paralysis"
    - "Оптимизирует систему, игнорируя exploration: FEP (Friston) показывает, что чистая exploitation (оптимизация текущей цели) убивает адаптивность — нужен баланс explore/exploit"

  domains: [собственный профессиональный домен, организационный дизайн (OKR как multi-objective), проектирование адаптивных систем, обучение других]

  forms:
    preoperational: "Не применимо"
    concrete_operational: "Не применимо"
    formal_operational: "Не рекомендуется (нужен постформальный уровень для мета-проектирования)"
    postformal: "«Архитектор оптимизации»: выбрать свой домен → выявить все реальные целевые функции (≥4) → построить матрицу конфликтов → спроектировать Парето-подход с механизмом trade-off → предусмотреть адаптивность (когда и как пересматривать цели) → peer review + peer teaching. Проект 2-4 недели"

  bridge_template: "Помнишь, как мы находили конфликты целей и ловушки локальных оптимумов в чужих системах? Теперь ты сам проектируешь оптимизационные системы — с множеством целей, Парето-границей и адаптивностью."
```

---

*CQR self-check: все ячейки >= 10/12*

*Последнее обновление: 2026-02-24*
